<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Product Page | lukumisteress</title>
  <meta name="description" content="Discover premium shoes and footwear at lukumisteress. Shop the latest styles, colors, and sizes. Fast checkout and secure shopping at https://lukumisteress.iyonicorp.com.">
  <meta name="keywords" content="lukumisteress, shoes, footwear, buy shoes online, premium shoes, fashion, sneakers, sandals, shop, ecommerce">
  <meta name="author" content="lukumisteress">
  <meta property="og:title" content="Product Page | lukumisteress">
  <meta property="og:description" content="Shop the latest premium shoes at lukumisteress. Fast checkout, secure shopping, and a wide range of styles.">
  <meta property="og:url" content="https://lukumisteress.iyonicorp.com">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="lukumisteress">
  <meta property="og:image" content="https://i.imgur.com/NvQLami.png">
  <link rel="canonical" href="https://lukumisteress.iyonicorp.com/product/">
  <link rel="icon" href="https://i.imgur.com/NvQLami.png" type="image/png">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  <style>
    #copyToast { transition: opacity 0.3s ease-in-out; }

    @keyframes spin-loader {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loader-spin {
      animation: spin-loader 1.2s linear infinite;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .animate-fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .badge {
      position: absolute;
      top: 16px;
      right: 16px;
      padding: 8px 14px;
      border-radius: 8px;
      font-size: 11px;
      font-weight: 700;
      color: white;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      z-index: 20;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .badge-trending {
      background: linear-gradient(135deg, #ec4899, #f43f5e);
    }

    .badge-premium {
      background: linear-gradient(135deg, #d946ef, #ec4899);
    }

    .badge-sale {
      background: linear-gradient(135deg, #f43f5e, #991b1b);
    }

    .badge-exclusive {
      background: linear-gradient(135deg, #f43f5e, #dc2626);
    }

    .badge-limited {
      background: linear-gradient(135deg, #ec4899, #be185d);
    }

    .badge-offer {
      background: linear-gradient(135deg, #ec4899, #d946ef);
    }

    .color-selector {
      transition: all 0.3s ease;
    }

    .color-selector:hover {
      transform: scale(1.15);
    }

    .size-btn {
      transition: all 0.3s ease;
      border: 2px solid #e5e7eb;
    }

    .size-btn:hover {
      border-color: #ec4899;
      transform: translateY(-2px);
    }

    .size-btn.selected {
      background: linear-gradient(135deg, #ec4899, #f43f5e);
      color: white;
      border-color: #ec4899;
    }

    .btn-primary {
      background: linear-gradient(135deg, #ec4899, #f43f5e);
      transition: all 0.3s ease;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(236, 72, 153, 0.4);
    }

    .btn-secondary {
      background: linear-gradient(135deg, #06b6d4, #0891b2);
      transition: all 0.3s ease;
    }

    .btn-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 24px rgba(6, 182, 212, 0.4);
    }

    .product-detail-card {
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.05), rgba(244, 63, 94, 0.05));
      border: 1px solid rgba(236, 72, 153, 0.1);
    }

    .swiper-button-prev, .swiper-button-next {
      background: rgba(0, 0, 0, 0.6) !important;
      border-radius: 50% !important;
      width: 48px !important;
      height: 48px !important;
      transition: all 0.3s ease;
    }

    .swiper-button-prev:hover, .swiper-button-next:hover {
      background: rgba(236, 72, 153, 0.8) !important;
      transform: scale(1.1);
    }

    .original-price {
      text-decoration: line-through;
      color: #9ca3af;
      font-size: 0.85em;
    }

    .discount-badge {
      background: linear-gradient(135deg, #f43f5e, #dc2626);
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      font-weight: bold;
    }
  </style>
</head>
<body class="bg-white text-gray-800">
<!-- Header -->
<header class="flex justify-between items-center px-4 sm:px-6 lg:px-10 py-4 bg-white border-b border-gray-100 shadow-sm sticky top-0 z-50">
  <!-- Logo -->
  <a href="https://lukumisteress.iyonicorp.com" class="flex items-center space-x-2 sm:space-x-3 hover:opacity-80 transition">
    <img src="https://i.imgur.com/NvQLami.png" alt="luku misteress Logo" class="w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 object-contain" />
    <span class="hidden sm:block text-lg sm:text-xl font-black bg-gradient-to-r from-pink-600 to-rose-500 bg-clip-text text-transparent">lukumisteress</span>
  </a>

  <!-- Navigation -->
  <nav class="flex items-center space-x-4 sm:space-x-8 text-base">
    <a href="https://lukumisteress.iyonicorp.com" class="text-gray-600 hover:text-pink-600 transition font-semibold text-sm sm:text-base">Home</a>

    <!-- Cart Icon -->
    <button id="cart-icon" class="relative text-2xl hover:scale-110 transition duration-300">
      üõí
      <span id="cart-count" class="absolute -top-3 -right-3 bg-gradient-to-r from-pink-600 to-rose-500 text-white text-xs w-6 h-6 rounded-full flex items-center justify-center font-bold">0</span>
    </button>
  </nav>

  <!-- Cart Dropdown -->
  <div id="cart-dropdown" class="absolute right-6 top-20 w-80 bg-white border border-gray-200 rounded-2xl shadow-2xl hidden z-50">
    <div class="flex justify-between items-center p-5 border-b border-gray-200 bg-gradient-to-r from-pink-50 to-rose-50">
      <h3 class="text-lg font-bold text-gray-900">Cart Items</h3>
      <button onclick="closeCartDropdown()" class="text-gray-400 hover:text-red-600 text-2xl font-bold transition">√ó</button>
    </div>
    <div class="p-5">
      <div id="cart-items" class="space-y-3 max-h-56 overflow-y-auto"></div>
      <button onclick="proceedToCheckout()" class="mt-5 w-full bg-gradient-to-r from-pink-600 to-rose-500 text-white py-3 rounded-xl font-bold hover:shadow-lg transition">Proceed to Checkout</button>
    </div>
  </div>
</header>
<div id="signupPrompt" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
  <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-sm text-center animate-fade-in-up">
    <h3 class="text-2xl font-black mb-3 text-gray-900">Sign In Required</h3>
    <p class="mb-6 text-gray-600 text-base">You need to be logged in to add products or place orders.</p>
    <a href="../signup" class="inline-block bg-gradient-to-r from-pink-600 to-rose-500 text-white px-8 py-3 rounded-xl font-bold hover:shadow-lg transition">Create Account</a>
    <button onclick="document.getElementById('signupPrompt').classList.add('hidden')" class="block w-full text-sm text-gray-500 mt-4 font-semibold hover:text-gray-700 transition">Cancel</button>
  </div>
</div>

<script>
function showSignupPrompt() {
  document.getElementById('signupPrompt').classList.remove('hidden');
}
</script>


<!-- Product Section -->
<section id="product-section" class="min-h-screen py-16 sm:py-20 px-4 sm:px-6 lg:px-8">
  <!-- Preloader -->
  <div class="flex justify-center items-center py-20">
    <div class="text-center">
      <div class="w-12 h-12 mx-auto mb-4">
        <div class="w-12 h-12 border-4 border-pink-200 border-t-pink-600 rounded-full loader-spin"></div>
      </div>
      <p class="text-gray-600 font-medium">Loading product...</p>
    </div>
  </div>
</section>

<!-- Size Chart Modal -->
<div id="sizeChartModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50 p-4">
  <div class="bg-white p-8 rounded-2xl shadow-2xl w-full max-w-md animate-fade-in-up">
    <h3 class="text-2xl font-black mb-6 text-gray-900">International Size Chart</h3>

    <div class="overflow-x-auto">
      <table class="w-full text-sm text-left">
        <thead>
          <tr class="bg-gradient-to-r from-pink-100 to-rose-100 border-b-2 border-pink-200">
            <th class="px-4 py-3 font-bold text-gray-900">US</th>
            <th class="px-4 py-3 font-bold text-gray-900">UK</th>
            <th class="px-4 py-3 font-bold text-gray-900">EU</th>
            <th class="px-4 py-3 font-bold text-gray-900">AUS</th>
          </tr>
        </thead>
        <tbody id="sizeChartBody" class="cursor-pointer">
        </tbody>
      </table>
    </div>
    <button onclick="closeSizeChart()" class="bg-gradient-to-r from-pink-600 to-rose-500 text-white font-bold px-6 py-3 mt-6 w-full rounded-xl hover:shadow-lg transition">Close</button>
  </div>
</div>

<!-- Swiper JS -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<script>
const urlParams = new URLSearchParams(window.location.search);
const productId = urlParams.get("id");
let products = [];
let product = null;

// Fetch products from API
fetch('https://lukumisteress.onrender.com/api/products')
  .then(response => response.json())
  .then(data => {
    products = data;
    product = products.find(p => p.id === productId);
    localStorage.setItem("shoeProducts", JSON.stringify(products));
    renderProduct();
    updateCartUI();
  })
  .catch(error => {
    console.error('Error fetching products:', error);
    // Fallback to localStorage
    products = JSON.parse(localStorage.getItem("shoeProducts") || "[]");
    product = products.find(p => p.id === productId);
  });

let selectedSize = null;
let selectedColor = null;
let sizeChartType = "us";

const colorClasses = {
  black: 'bg-black',
  white: 'bg-white',
  red: 'bg-red-600',
  green: 'bg-green-600',
  blue: 'bg-blue-600',
  yellow: 'bg-yellow-500',
  gray: 'bg-gray-600',
  brown: 'bg-yellow-900',
  pink: 'bg-pink-500',
  purple: 'bg-purple-600',
  orange: 'bg-orange-500',
  amber: 'bg-amber-700',
  rose: 'bg-rose-900',
};

const fullSizeChart = [
  { us: "5",  uk: "3",  eu: "36", aus: "5" },
  { us: "6",  uk: "4",  eu: "37", aus: "6" },
  { us: "7",  uk: "5",  eu: "38", aus: "7" },
  { us: "8",  uk: "6",  eu: "39", aus: "8" },
  { us: "9",  uk: "7",  eu: "40", aus: "9" },
  { us: "10", uk: "8",  eu: "41", aus: "10" },
  { us: "11", uk: "9",  eu: "42", aus: "11" },
  { us: "12", uk: "10", eu: "43", aus: "12" },
  { us: "13", uk: "11", eu: "44", aus: "13" },
  { us: "14", uk: "12", eu: "45", aus: "14" },
  { us: "15", uk: "13", eu: "46", aus: "15" }
];

function renderSizeChart() {
  const body = document.getElementById("sizeChartBody");
  body.innerHTML = "";
  fullSizeChart.forEach((row, idx) => {
    const tr = document.createElement("tr");
    tr.className = `hover:bg-pink-50 transition border-b border-gray-200 ${idx % 2 === 0 ? 'bg-gray-50' : 'bg-white'}`;
    tr.onclick = () => {
      const selected = row[sizeChartType];
      selectedSize = selected;
      closeSizeChart();
      updateSizeButtons(selected);
    };
    tr.innerHTML = `
      <td class="px-4 py-3 font-semibold text-gray-900">${row.us}</td>
      <td class="px-4 py-3 font-semibold text-gray-900">${row.uk}</td>
      <td class="px-4 py-3 font-semibold text-gray-900">${row.eu}</td>
      <td class="px-4 py-3 font-semibold text-gray-900">${row.aus}</td>
    `;
    body.appendChild(tr);
  });
}

function openSizeChart() {
  document.getElementById("sizeChartModal").classList.remove("hidden");
  renderSizeChart();
}
function closeSizeChart() {
  document.getElementById("sizeChartModal").classList.add("hidden");
}
function switchSizeChart(type) {
  sizeChartType = type;
  document.querySelectorAll(".size-chart-btn").forEach(btn => {
    btn.classList.remove("bg-pink-600", "text-white");
    btn.classList.add("bg-gray-200", "text-black");
  });
  document.querySelector(`.size-chart-btn:nth-child(${type === 'us' ? 1 : 2})`).classList.add("bg-pink-600", "text-white");
  renderSizeChart();
}
function updateSizeButtons(selected) {
  document.querySelectorAll(".size-btn").forEach(btn => {
    if (btn.textContent === selected.toString()) {
      btn.classList.add("selected");
    } else {
      btn.classList.remove("selected");
    }
  });
}
function selectColor(color, el) {
  selectedColor = color;
  document.querySelectorAll(".color-selector").forEach(dot => dot.classList.remove("ring-4", "ring-pink-500"));
  el.classList.add("ring-4", "ring-pink-500");
}
function selectSize(size, el) {
  selectedSize = size;
  document.querySelectorAll(".size-btn").forEach(btn => btn.classList.remove("selected"));
  el.classList.add("selected");
}
function copyShareLink() {
  const shareURL = window.location.href;
  navigator.clipboard.writeText(shareURL).then(() => {
    const toast = document.getElementById("copyToast");
    toast.classList.remove("hidden");
    setTimeout(() => toast.classList.add("hidden"), 2000);
  });
}
function getUserToken() {
  return localStorage.getItem('token');
}
function isUserLoggedIn() {
  return !!getUserToken();
}

function addToCart() {
  if (!isUserLoggedIn()) return showSignupPrompt();
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  const existingIndex = cart.findIndex(item =>
    item.id === product.id &&
    item.size === selectedSize &&
    item.color === selectedColor
  );

  if (existingIndex !== -1) {
    cart[existingIndex].quantity += 1;
  } else {
    cart.push({
      id: product.id,
      name: product.name,
      size: selectedSize,
      color: selectedColor,
      price: product.price,
      quantity: 1
    });
  }

  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartUI();
  document.getElementById('cart-dropdown').classList.remove('hidden');
}

function proceedToCheckout() {
  if (!isUserLoggedIn()) return showSignupPrompt();
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  if (!cart.length) return alert("Your cart is empty.");
  window.location.href = "../checkout";
}

function buynow() {
  if (!isUserLoggedIn()) return showSignupPrompt();
  if (!selectedSize || !selectedColor) return alert("Please select size and color before buying.");
  const buyNowProduct = {
    id: product.id,
    name: product.name,
    size: selectedSize,
    color: selectedColor,
    price: product.price,
    quantity: 1,
    image: product.images?.[0] || ''
  };
  localStorage.setItem("buynowItem", JSON.stringify(buyNowProduct));
  window.location.href = "../checkout";
}

function updateCartUI() {
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  const container = document.getElementById("cart-items");
  const count = document.getElementById("cart-count");
  container.innerHTML = "";

  let total = 0;
  count.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);

  cart.forEach((item, index) => {
    const prod = products.find(p => p.id === item.id);
    const productImage = prod?.images[0] || '';
    const subtotal = item.price * item.quantity;
    total += subtotal;
    const colorDisplay = prod && prod.colors.length === 1 ? 'default colour' : item.color;

    const div = document.createElement('div');
    div.className = 'flex items-start gap-3 border-b pb-3';
    div.innerHTML = `
      <img src="${productImage}" class="w-16 h-16 object-contain rounded" />
      <div class="flex-1">
        <p class="font-medium">${item.name}</p>
        <p class="text-sm text-gray-500">Size: ${item.size}, Color: ${colorDisplay}</p>
        <p class="text-sm text-gray-700">Ksh${item.price} √ó ${item.quantity} = <strong>Ksh${subtotal.toFixed(2)}</strong></p>
        <div class="flex items-center gap-2 mt-1">
          <button onclick="changeQuantity(${index}, -1)" class="text-xs bg-gray-200 px-2 rounded">‚àí</button>
          <span>${item.quantity}</span>
          <button onclick="changeQuantity(${index}, 1)" class="text-xs bg-gray-200 px-2 rounded">+</button>
          <button onclick="removeCartItem(${index})" class="text-xs text-red-600 ml-auto">Remove</button>
        </div>
      </div>
    `;
    container.appendChild(div);
  });

  const totalDiv = document.createElement('div');
  totalDiv.className = 'pt-3 text-right font-semibold text-pink-600';
  totalDiv.innerText = `Total: Ksh${total.toFixed(2)}`;
  container.appendChild(totalDiv);
}

function changeQuantity(index, delta) {
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  if (cart[index]) {
    cart[index].quantity += delta;
    if (cart[index].quantity <= 0) cart.splice(index, 1);
    localStorage.setItem("cart", JSON.stringify(cart));
    updateCartUI();
  }
}
function removeCartItem(index) {
  const cart = JSON.parse(localStorage.getItem("cart") || "[]");
  cart.splice(index, 1);
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartUI();
}
function closeCartDropdown() {
  document.getElementById('cart-dropdown').classList.add('hidden');
}
window.addEventListener('scroll', closeCartDropdown);
document.getElementById('cart-icon').addEventListener('click', () => {
  document.getElementById('cart-dropdown').classList.toggle('hidden');
});

function renderProduct() {
  if (!product) {
    document.getElementById("product-section").innerHTML = "<p class='text-center text-red-600'>Product not found.</p>";
    return;
  }

  selectedSize = product.sizes[0];
  selectedColor = product.colors[0];
  const productDetailsHTML = product.details.map(detail => `<li>${detail}</li>`).join("");

  let badgeHtml = '';
  let priceHtml = '';
  const discount = product.discount || 15;

  if (product.badge) {
    const badgeConfig = {
      trending: { class: 'badge-trending', text: 'üî• Trending' },
      premium: { class: 'badge-premium', text: '‚≠ê Premium' },
      exclusive: { class: 'badge-exclusive', text: '‚ú® Exclusive' },
      limited: { class: 'badge-limited', text: '‚è∞ Limited' },
      sale: { class: 'badge-sale', text: 'üè∑Ô∏è Sale' },
      offer: { class: 'badge-offer', text: 'üéÅ Offer' }
    };

    const config = badgeConfig[product.badge];
    if (config) {
      badgeHtml = `<div class="badge ${config.class}">${config.text}</div>`;
    }
  }

  if (product.badge === 'sale' || product.badge === 'offer') {
    const discountAmount = Math.round((product.price * discount) / 100);
    const discountedPrice = product.price - discountAmount;
    priceHtml = `
      <div class="space-y-2">
        <div class="flex items-center gap-3">
          <span class="original-price">Ksh${product.price}</span>
          <span class="discount-badge">-${discount}%</span>
        </div>
        <p class="text-4xl font-bold bg-gradient-to-r from-pink-600 to-rose-500 bg-clip-text text-transparent">Ksh${discountedPrice}</p>
      </div>
    `;
  } else {
    priceHtml = `<p class="text-4xl font-bold bg-gradient-to-r from-pink-600 to-rose-500 bg-clip-text text-transparent">Ksh${product.price}</p>`;
  }

  document.getElementById("product-section").innerHTML = `
    <div class="max-w-7xl mx-auto">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 animate-fade-in-up">
      <!-- Product Gallery -->
      <div class="space-y-4">
        <div class="relative rounded-2xl overflow-hidden bg-gradient-to-br from-gray-100 to-gray-50 shadow-xl">
          <div class="swiper mySwiper2 relative">
            <div class="swiper-wrapper">
              ${product.images.map(img => `
                <div class="swiper-slide">
                  <img src="${img}" class="w-full h-full object-contain py-8" />
                </div>
              `).join("")}
            </div>
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
          </div>
          ${badgeHtml}
        </div>

        <!-- Thumbnail Gallery -->
        <div class="swiper mySwiperThumbs">
          <div class="swiper-wrapper gap-2">
            ${product.images.map(img => `
              <div class="swiper-slide !w-auto rounded-lg overflow-hidden border-2 border-transparent hover:border-pink-400 cursor-pointer transition">
                <img src="${img}" class="h-24 w-28 object-contain bg-gray-50 rounded-lg" />
              </div>
            `).join("")}
          </div>
        </div>
      </div>

      <!-- Product Info -->
      <div class="space-y-8">
        <div class="space-y-3">
          <div class="flex items-start justify-between">
            <div>
              <h1 class="text-4xl lg:text-5xl font-black text-gray-900 leading-tight">${product.name}</h1>
              <p class="text-xs text-gray-500 mt-2 font-mono uppercase tracking-wider">SKU: ${product.id}</p>
            </div>
          </div>
          <p class="text-gray-600 text-lg leading-relaxed">${product.description}</p>
        </div>

        <!-- Price Section -->
        <div class="product-detail-card p-6 rounded-xl">
          ${priceHtml}
        </div>

        <!-- Color Selection -->
        ${product.colors.length === 1 ?
          `<div class="space-y-3">
            <label class="text-sm font-bold uppercase tracking-wider text-gray-700">Color: Default Colour</label>
          </div>` :
          `<div class="space-y-4">
            <label class="text-sm font-bold uppercase tracking-wider text-gray-700">Select Color</label>
            <div class="flex gap-4 flex-wrap">
              ${product.colors.map((color, i) => {
                const isSelected = i === 0 ? 'ring-4 ring-pink-500' : '';
                const colorClass = colorClasses[color] || 'bg-gray-400';
                return `<button onclick="selectColor('${color}', this)" class="color-selector w-12 h-12 rounded-full ${colorClass} border-2 border-gray-300 ${isSelected} hover:shadow-lg" title="${color}"></button>`;
              }).join("")}
            </div>
          </div>`
        }

        <!-- Size Selection -->
        <div class="space-y-4">
          <div class="flex items-center justify-between">
            <label class="text-sm font-bold uppercase tracking-wider text-gray-700">Select Size</label>
            <button onclick="openSizeChart()" class="text-xs font-bold text-pink-600 hover:text-pink-700 uppercase">üìè Size Chart</button>
          </div>
          <div class="grid grid-cols-5 gap-2">
            ${product.sizes.map((size, i) => {
              const isSelected = i === 0 ? 'selected' : '';
              return `<button onclick="selectSize(${size}, this)" class="size-btn py-3 rounded-lg font-bold text-sm ${isSelected}">${size}</button>`;
            }).join("")}
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="space-y-3 pt-4">
          <button onclick="buynow()" class="btn-primary w-full py-4 rounded-xl text-white font-bold uppercase text-lg tracking-wider">Buy Now</button>
          <button onclick="addToCart()" class="btn-secondary w-full py-4 rounded-xl text-white font-bold uppercase text-lg tracking-wider">Add to Cart</button>
        </div>

        <!-- Share -->
        <div class="flex items-center justify-center gap-3 pt-4 border-t border-gray-200">
          <button onclick="copyShareLink()" class="flex items-center gap-2 text-sm font-semibold text-pink-600 hover:text-pink-700 transition">
            üîó Share Product
          </button>
          <span id="copyToast" class="text-xs text-green-600 font-semibold hidden">‚úì Copied!</span>
        </div>
      </div>
    </div>

    <!-- Product Details Section -->
    <section class="mt-24 animate-fade-in-up">
      <div class="bg-white rounded-3xl p-8 lg:p-12 shadow-lg border border-gray-100">
        <h2 class="text-3xl lg:text-4xl font-black mb-8 text-gray-900">Product Details</h2>
        <ul class="space-y-4">
          ${product.details.map(detail => `
            <li class="flex items-start gap-4 text-gray-700 group hover:bg-pink-50 p-3 rounded-lg transition">
              <span class="text-pink-600 text-2xl font-bold flex-shrink-0 mt-0">‚úì</span>
              <span class="text-base lg:text-lg leading-relaxed">${detail}</span>
            </li>
          `).join("")}
        </ul>
      </div>
    </section>

    <!-- Related Products Section -->
    <section class="mt-24 animate-fade-in-up">
      <div class="bg-gradient-to-br from-pink-50 to-rose-50 rounded-3xl p-8 lg:p-12 border border-pink-100">
        <h2 class="text-3xl lg:text-4xl font-black mb-10 text-gray-900">More Products You'll Love</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
        ${products.filter(p => p.id !== product.id && p.category === product.category).slice(0, 3).map(p => `
          <a href="../product?id=${p.id}" class="group rounded-2xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 bg-white border border-gray-100">
            <div class="relative bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden h-64">
              <img src="${p.images[0]}" alt="${p.name}" class="w-full h-full object-contain group-hover:scale-110 transition duration-300"/>
            </div>
            <div class="p-5 space-y-3">
              <h4 class="font-bold text-lg text-gray-900 group-hover:text-pink-600 transition">${p.name}</h4>
              <p class="text-xl font-bold text-pink-600">ksh${p.price}</p>
              <button class="w-full py-2 rounded-lg bg-gradient-to-r from-pink-600 to-rose-500 text-white font-semibold hover:shadow-lg transition">View ‚Üí</button>
            </div>
          </a>
        `).join('')}
        </div>
      </div>
    </section>
    </div>
  `;
  initializeSwiper();
}

function initializeSwiper() {
  const thumbs = new Swiper(".mySwiperThumbs", {
    spaceBetween: 10,
    slidesPerView: 3,
    freeMode: true,
    watchSlidesProgress: true,
    keyboard: {
      enabled: true,
      onlyInViewport: true,
    },
  });

  new Swiper(".mySwiper2", {
    spaceBetween: 10,
    keyboard: {
      enabled: true,
      onlyInViewport: true,
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    thumbs: {
      swiper: thumbs,
    },
  });
}


renderProduct();
updateCartUI();
</script>

<!-- Footer -->
<footer class="bg-white text-gray-800 relative overflow-hidden mt-20">
  <!-- Decorative Top Border -->
  <div class="h-1 bg-gradient-to-r from-pink-400 via-pink-500 to-rose-500"></div>
  
  <div class="relative py-16 sm:py-20 lg:py-24">
    <!-- Decorative background elements -->
    <div class="absolute top-0 right-0 w-96 h-96 bg-pink-100 rounded-full mix-blend-multiply filter blur-3xl opacity-10"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-rose-100 rounded-full mix-blend-multiply filter blur-3xl opacity-10"></div>
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Grid Layout -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 lg:gap-12">
        
        <!-- Brand Section -->
        <div class="lg:col-span-2">
          <div class="mb-6">
            <div class="flex items-center space-x-3 mb-4">
              <div class="relative">
                <img src="https://i.imgur.com/NvQLami.png" alt="lukumisteress Logo" class="w-16 h-16 sm:w-20 sm:h-20 object-contain float-animation" />
              </div>
              <div>
                <h2 class="text-3xl sm:text-4xl font-black bg-gradient-to-r from-pink-600 to-rose-600 bg-clip-text text-transparent">lukumisteress</h2>
                <p class="text-pink-600 font-semibold text-sm">Step into Style</p>
              </div>
            </div>
          </div>
          <p class="text-gray-600 leading-relaxed mb-6 text-sm sm:text-base">
            Kenya's premier affordable online shoe store. Discover quality sneakers, heels, sandals, boots, and more at unbeatable prices.
          </p>
          <!-- Social Icons -->
          <div class="flex flex-wrap gap-3">
            <a href="#" title="Facebook" class="group w-12 h-12 bg-gradient-to-br from-blue-50 to-blue-100 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 hover:from-blue-600 hover:to-blue-700">
              <svg class="w-6 h-6 text-blue-600 group-hover:text-white transition" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
            </a>
            <a href="#" title="Instagram" class="group w-12 h-12 bg-gradient-to-br from-pink-50 to-rose-100 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 hover:from-pink-500 hover:to-rose-500">
              <svg class="w-6 h-6 text-pink-600 group-hover:text-white transition" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.057-1.645.069-4.849.069-3.204 0-3.584-.012-4.849-.069-3.259-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163C8.756 0 8.33.012 7.052.07 2.696.27.273 2.69.073 7.052.012 8.33 0 8.757 0 12s.012 3.67.07 4.948c.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.7.071 4.948.071 3.247 0 3.668-.012 4.948-.07 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.699.073-4.948 0-3.247-.011-3.668-.071-4.948-.196-4.354-2.617-6.78-6.979-6.98C15.668.012 15.259 0 12 0z"/></svg>
            </a>
            <a href="#" title="Twitter" class="group w-12 h-12 bg-gradient-to-br from-blue-50 to-sky-100 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 hover:from-sky-400 hover:to-blue-500">
              <svg class="w-6 h-6 text-sky-500 group-hover:text-white transition" fill="currentColor" viewBox="0 0 24 24"><path d="M23.953 4.57a10 10 0 002.856-9.97 10.02 10.02 0 01-2.856.97 4.96 4.96 0 002.165-2.724c-.951.564-2.005.974-3.127 1.195a4.948 4.948 0 00-8.506 4.513A14.025 14.025 0 011.671 3.149a4.947 4.947 0 001.53 6.603 4.917 4.917 0 01-2.242-.616v.06a4.95 4.95 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.95 4.95 0 004.604 3.417A9.868 9.868 0 010 21.54a13.994 13.994 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/></svg>
            </a>
            <a href="#" title="TikTok" class="group w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 hover:bg-gray-900">
              <svg class="w-6 h-6 text-gray-800 group-hover:text-white transition" fill="currentColor" viewBox="0 0 24 24"><path d="M19.498 3.75c-.522-2.032-2.231-3.621-4.298-3.621-1.227 0-2.324.491-3.126 1.275-.802-.784-1.898-1.275-3.125-1.275-2.067 0-3.776 1.589-4.298 3.621-.057.236-.191.457-.384.625v16.5c0 1.657 1.343 3 3 3s3-1.343 3-3v-8.5c.802 1.008 2.067 1.65 3.5 1.65s2.698-.642 3.5-1.65v8.5c0 1.657 1.343 3 3 3s3-1.343 3-3v-16.5c-.193-.168-.327-.389-.384-.625z"/></svg>
            </a>
            <a href="#" title="WhatsApp" class="group w-12 h-12 bg-gradient-to-br from-green-50 to-emerald-100 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-300 hover:scale-110 hover:from-green-500 hover:to-emerald-600">
              <svg class="w-6 h-6 text-green-600 group-hover:text-white transition" fill="currentColor" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.67-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.076 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421-7.403h-.004a9.87 9.87 0 00-5.031 1.378c-3.055 2.427-3.865 6.95-1.755 10.494 2.11 3.545 6.558 5.143 10.092 3.798 3.534-1.345 5.646-5.18 4.638-8.974-.997-3.855-4.747-6.412-8.574-6.412m8.342 0a.75.75 0 100-1.5.75.75 0 000 1.5"/></svg>
            </a>
          </div>
        </div>

        <!-- Categories -->
        <div>
          <h4 class="text-lg font-bold text-gray-900 mb-6">Shop Categories</h4>
          <ul class="space-y-3">
            <li><a href="../category?name=sandals" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Sandals</a></li>
            <li><a href="../category?name=wedges" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Wedges</a></li>
            <li><a href="../category?name=slides" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Slides</a></li>
            <li><a href="../category?name=sneakers" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Sneakers</a></li>
            <li><a href="../category?name=rubbers" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Rubbers</a></li>
          </ul>
        </div>

        <!-- Legal & Support -->
        <div>
          <h4 class="text-lg font-bold text-gray-900 mb-6">Legal & Support</h4>
          <ul class="space-y-3">
            <li><a href="../terms" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Terms of Service</a></li>
            <li><a href="../privacy" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Privacy Policy</a></li>
            <li><a href="../refund" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Refund Policy</a></li>
            <li><a href="../shipping" class="text-gray-600 hover:text-pink-600 transition-colors duration-300 text-sm sm:text-base font-medium">Shipping Policy</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-t border-gray-700 bg-gray-900 py-8">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 items-center">
        <div class="text-center md:text-left">
          <p class="text-gray-400 text-xs sm:text-sm">&copy; 2026 lukumisteress. All rights reserved.</p>
        </div>
        <div class="text-center">
          <p class="text-gray-400 text-xs sm:text-sm font-medium">Crafted with care in Nairobi, Kenya</p>
        </div>
        <div class="text-center md:text-right space-y-2">
          <p class="text-gray-400 text-xs sm:text-sm flex items-center justify-center md:justify-end gap-2">
            <span>üìß</span>
            <a href="mailto:support@lukumisteress.com" class="hover:text-pink-400 transition-colors">support@lukumisteress.com</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

</body>
</html>
